const url="https://dagprogs.github.io/apidb/page.json";function fetchData(){fetch("https://dagprogs.github.io/apidb/page.json").then(e=>{if(!e.ok)throw Error("Сеть не доступна");return e.json()}).then(e=>{let t=new Date,a=new Date(e.expiryDate);localStorage.setItem("pageData",JSON.stringify(e)),t<=a?displayData(e):hideOverlay()}).catch(e=>{console.error("Ошибка загрузки данных:",e),loadCachedData()})}function loadCachedData(){let e=localStorage.getItem("pageData");if(e){let t=JSON.parse(e),a=new Date,i=new Date(t.expiryDate);a<=i?displayData(t):hideOverlay()}else hideOverlay()}function displayData(e){document.getElementById("title").innerText=e.title,document.getElementById("image").src=e.image,document.getElementById("text").innerText=e.text,document.getElementById("overlay").style.display="flex"}function hideOverlay(){document.getElementById("overlay").style.display="none"}fetchData();