!function(t,n,i){"use strict";t.Calendario=function(n,i){this.$el=t(i),this._init(n)},t.Calendario.defaults={weeks:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],weekabbrs:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthabbrs:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],displayWeekAbbr:!1,displayMonthAbbr:!1,startIn:1,onDayClick:function(t,n,i){return!1}},t.Calendario.prototype={_init:function(n){this.options=t.extend(!0,{},t.Calendario.defaults,n),this.today=new Date,this.month=isNaN(this.options.month)||null==this.options.month?this.today.getMonth():this.options.month-1,this.year=isNaN(this.options.year)||null==this.options.year?this.today.getFullYear():this.options.year,this.caldata=this.options.caldata||{},this._generateTemplate(),this._initEvents()},_initEvents:function(){var n=this;this.$el.on("click.calendario","div.fc-row > div",function(){var i=t(this),o=i.index(),e=i.children("div"),s={day:i.children("span.fc-date").text(),month:n.month+1,monthname:n.options.displayMonthAbbr?n.options.monthabbrs[n.month]:n.options.months[n.month],year:n.year,weekday:o+n.options.startIn,weekdayname:n.options.weeks[o+n.options.startIn]};s.day&&n.options.onDayClick(i,e,s)})},_generateTemplate:function(n){var i,o=this._getHead(),e=this._getBody();switch(this.rowTotal){case 4:i="fc-four-rows";break;case 5:i="fc-five-rows";break;case 6:i="fc-six-rows"}this.$cal=t('<div class="fc-calendar '+i+'">').append(o,e),this.$el.find("div.fc-calendar").remove().end().append(this.$cal),n&&n.call()},_getHead:function(){for(var t='<div class="fc-head">',n=0;n<=6;n++){var i=n+this.options.startIn,o=i>6?i-6-1:i;t+="<div>",t+=this.options.displayWeekAbbr?this.options.weekabbrs[o]:this.options.weeks[o],t+="</div>"}return t+"</div>"},_getBody:function(){var t=new Date(this.year,this.month+1,0).getDate(),n=new Date(this.year,this.month,1);this.startingDay=n.getDay();for(var i='<div class="fc-body"><div class="fc-row">',o=1,e=0;e<7;e++){for(var s=0;s<=6;s++){var a=this.startingDay-this.options.startIn,r=a<0?6+a+1:a,h="",c=this.month===this.today.getMonth()&&this.year===this.today.getFullYear()&&o===this.today.getDate(),d="";if(o<=t&&(e>0||s>=r)){h+='<span class="fc-date">'+o+'</span><span class="fc-weekday">'+this.options.weekabbrs[s+this.options.startIn>6?s+this.options.startIn-6-1:s+this.options.startIn]+"</span>";var l=(this.month+1<10?"0"+(this.month+1):this.month+1)+"-"+(o<10?"0"+o:o)+"-"+this.year,m=this.caldata[l];m&&(d=m),""!==d&&(h+="<div>"+d+"</div>"),++o}var u=c?"fc-today ":"";""!==d&&(u+="fc-content"),i+=""!==u?'<div class="'+u+'">':"<div>",i+=h,i+="</div>"}if(o>t){this.rowTotal=e+1;break}i+='</div><div class="fc-row">'}return i+"</div></div>"},_isValidDate:function(t){var n=parseInt((t=t.replace(/-/gi,"")).substring(0,2),10),i=parseInt(t.substring(2,4),10),o=parseInt(t.substring(4,8),10);if(n<1||n>12||i<1||i>31)return!1;if((4==n||6==n||9==n||11==n)&&i>30)return!1;if(2==n&&(o%400==0||o%4==0)&&o%100!=0&&i>29)return!1;if(2==n&&o%100==0&&i>29)return!1;return{day:i,month:n,year:o}},_move:function(t,n,i){"previous"===n?"month"===t?(this.year=this.month>0?this.year:--this.year,this.month=this.month>0?--this.month:11):"year"===t&&(this.year=--this.year):"next"===n&&("month"===t?(this.year=this.month<11?this.year:++this.year,this.month=this.month<11?++this.month:0):"year"===t&&(this.year=++this.year)),this._generateTemplate(i)},getYear:function(){return this.year},getMonth:function(){return this.month+1},getMonthName:function(){return this.options.displayMonthAbbr?this.options.monthabbrs[this.month]:this.options.months[this.month]},getCell:function(t){var n=Math.floor((t+this.startingDay-this.options.startIn)/7),i=t+this.startingDay-this.options.startIn-7*n-1;return this.$cal.find("div.fc-body").children("div.fc-row").eq(n).children("div").eq(i).children("div")},setData:function(n){n=n||{},t.extend(this.caldata,n),this._generateTemplate()},gotoNow:function(t){this.month=this.today.getMonth(),this.year=this.today.getFullYear(),this._generateTemplate(t)},goto:function(t,n,i){this.month=t,this.year=n,this._generateTemplate(i)},gotoPreviousMonth:function(t){this._move("month","previous",t)},gotoPreviousYear:function(t){this._move("year","previous",t)},gotoNextMonth:function(t){this._move("month","next",t)},gotoNextYear:function(t){this._move("year","next",t)}};var o=function(t){n.console&&n.console.error(t)};t.fn.calendario=function(n){var i=t.data(this,"calendario");if("string"==typeof n){var e=Array.prototype.slice.call(arguments,1);this.each(function(){if(!i){o("cannot call methods on calendario prior to initialization; attempted to call method '"+n+"'");return}if(!t.isFunction(i[n])||"_"===n.charAt(0)){o("no such method '"+n+"' for calendario instance");return}i[n].apply(i,e)})}else this.each(function(){i?i._init():i=t.data(this,"calendario",new t.Calendario(n,this))});return i}}(jQuery,window);var codropsEvents={};$(function(){var t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"}[Modernizr.prefixed("transition")],n=$("#custom-inner"),i=$("#calendar").calendario({onDayClick:function(t,i,o){var e,s,r,h;i.length>0&&(e=i,s=o,a(),r=$('<div id="custom-content-reveal" class="custom-content-reveal"><h4>Events for '+s.monthname+" "+s.day+", "+s.year+"</h4></div>"),h=$('<span class="custom-content-close"></span>').on("click",a),r.append(e.html(),h).insertAfter(n),setTimeout(function(){r.css("top","0%")},25))},caldata:codropsEvents,displayWeekAbbr:!0}),o=$("#custom-month").html(i.getMonthName()),e=$("#custom-year").html(i.getYear());function s(){o.html(i.getMonthName()),e.html(i.getYear())}function a(){var n=$("#custom-content-reveal");n.length>0&&(n.css("top","100%"),Modernizr.csstransitions?n.on(t,function(){$(this).remove()}):n.remove())}$("#custom-next").on("click",function(){i.gotoNextMonth(s)}),$("#custom-prev").on("click",function(){i.gotoPreviousMonth(s)})});