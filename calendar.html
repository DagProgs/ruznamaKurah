<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Рузнама Курахского р-она">
    <meta name="keywords" content="dagprogs, рузнама, Курахский район, намаз, Ислам, Курах">
    <meta name="author" content="DagProgs">
    <meta name="categories" content="Ислам">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#007558">
    <meta name="msapplication-TileColor" content="#007558">
    <meta name="description" content="Рузнама Курахский р-он">
    <meta name="mobile-web-app-capable" content="Рузнама">
    <meta name="apple-mobile-web-app-capable" content="Рузнама">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Рузнама Курахский р-он">
    <meta name="application-name" content="Рузнама Курахский р-он">
    <link rel="apple-touch-icon" href="img/icons/icon-72x72.png" />
    <link rel="apple-touch-icon" href="img/icons/icon-96x96.png" />
    <link rel="apple-touch-icon" href="img/icons/icon-128x128.png" />
    <link rel="apple-touch-icon" href="img/icons/icon-144x144.png" />
    <link rel="apple-touch-icon" href="img/icons/icon-152x152.png" />
    <link rel="apple-touch-icon" href="img/icons/icon-192x192.png" />
    <link rel="apple-touch-icon" href="img/icons/icon-284x284.png" />
    <link rel="apple-touch-icon" href="img/icons/icon-512x512.png" />
	<script src="js/jquery-3.6.0.min.js"></script>
    <script async src="https://cdn.jsdelivr.net/npm/pwacompat@2.0.8/pwacompat.min.js"
        integrity="sha384-uONtBTCBzHKF84F6XvyC8S0gL8HTkAPeCyBNvfLfsqHh+Kd6s/kaS4BdmNQ5ktp1"
        crossorigin="anonymous"></script>
    <script>
        $(document).ready(function () {
            if (navigator.userAgent.indexOf('Safari') != -1 && navigator.userAgent.indexOf('Chrome') == -1) { $('#preloader').remove(); }
        });
        $(window).on('load', function () {
            $('#preloader').remove();
        });
    </script>
    <link rel="stylesheet" href="css/all.min.css">
    <link rel="stylesheet" href="css/calendar.css">
    <title>Календарь</title>
</head>

<body>
    <div id="preloader"></div>
    <div class="wrapper">
        <header class="header">
            <div class="header-bg">
                <a href="index.html">
                    <?xml version="1.0" encoding="utf-8"?><!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->
                    <svg width="800px" height="800px" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg">
                        <path fill="#fff" d="M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64z" />
                        <path fill="#fff"
                            d="m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312L237.248 512z" />
                    </svg>
                </a>
                <h1 class="name-calendar">Календарь</h1>
            </div>
        </header>
        <main class="main">
            <div id="month-calendar">
                <ul class="month">
                    <li class="prev"><i class="fas fa-angle-double-left"></i></li>
                    <li class="next"><i class="fas fa-angle-double-right"></i></li>
                    <li class="month-name"></li>
                    <li class="year-name"></li>
                </ul>
                <ul class="weekdays">
                    <li>Пн</li>
                    <li>Вт</li>
                    <li>Ср</li>
                    <li>Чт</li>
                    <li>Пт</li>
                    <li>Сб</li>
                    <li>Вс</li>
                </ul>
                <ul class="days">
                </ul>
            </div>
        </main>
    </div>


    <script>
        let nowDate = new Date(),
            nowDateNumber = nowDate.getDate(),
            nowMonth = nowDate.getMonth(),
            nowYear = nowDate.getFullYear(),
            container = document.getElementById('month-calendar'),
            monthContainer = container.getElementsByClassName('month-name')[0],
            yearContainer = container.getElementsByClassName('year-name')[0],
            daysContainer = container.getElementsByClassName('days')[0],
            prev = container.getElementsByClassName('prev')[0],
            next = container.getElementsByClassName('next')[0],
            monthName = ['январь', 'февраль', 'март', 'апрель', 'май', 'июнь', 'июль', 'август', 'сентябрь', 'октябрь', 'ноябрь', 'декабрь'];



        let curDate = nowDate.setMonth(nowDate.getMonth() - 1);
        console.log(nowDate.getFullYear());

        function setMonthCalendar(year, month) {
            let monthDays = new Date(year, month + 1, 0).getDate(),
                monthPrefix = new Date(year, month, 0).getDay(),
                monthDaysText = '';

            monthContainer.textContent = monthName[month];
            yearContainer.textContent = year;
            daysContainer.innerHTML = '';

            if (monthPrefix > 0) {
                for (let i = 1; i <= monthPrefix; i++) {
                    monthDaysText += '<li></li>';
                }
            }

            for (let i = 1; i <= monthDays; i++) {
                monthDaysText += '<li>' + i + '</li>';
            }

            daysContainer.innerHTML = monthDaysText;

            if (month == nowMonth && year == nowYear) {
                days = daysContainer.getElementsByTagName('li');
                days[monthPrefix + nowDateNumber - 1].classList.add('date-now');
            }
        }

        setMonthCalendar(nowYear, nowMonth);

        prev.onclick = function () {
            let curDate = new Date(yearContainer.textContent, monthName.indexOf(monthContainer.textContent));

            curDate.setMonth(curDate.getMonth() - 1);

            let curYear = curDate.getFullYear(),
                curMonth = curDate.getMonth();

            setMonthCalendar(curYear, curMonth);
        }

        next.onclick = function () {
            let curDate = new Date(yearContainer.textContent, monthName.indexOf(monthContainer.textContent));

            curDate.setMonth(curDate.getMonth() + 1);

            let curYear = curDate.getFullYear(),
                curMonth = curDate.getMonth();

            setMonthCalendar(curYear, curMonth);
        }
    </script>
    <script type="text/javascript" src="runtime.js"></script>
    <script type="text/javascript" src="polyfills.js"></script>
    <script type="text/javascript" src="main.js"></script>
    <script type="module">

        import { Workbox } from 'https://storage.googleapis.com/workbox-cdn/releases/4.3.0/workbox-window.prod.mjs';

        if ('serviceWorker' in navigator) {

            const wb = new Workbox('sw-workbox.js');

            wb.addEventListener('installed', event => {
                if (event.isUpdate) {
                    if (confirm(`Мы только что обновили версию приложения! Чтобы получить обновления, нажмите на кнопку OK.`)) {
                        window.location.reload();
                    }
                } else {
                    alert(`Приложение готово к работе в автономном режиме`)
                }
            });

            wb.register();
        }

    </script>
    <!-- Yandex.Metrika counter -->
    <script type="text/javascript">
        (function (m, e, t, r, i, k, a) {
            m[i] = m[i] || function () { (m[i].a = m[i].a || []).push(arguments) };
            m[i].l = 1 * new Date();
            for (var j = 0; j < document.scripts.length; j++) { if (document.scripts[j].src === r) { return; } }
            k = e.createElement(t), a = e.getElementsByTagName(t)[0], k.async = 1, k.src = r, a.parentNode.insertBefore(k, a)
        })
            (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

        ym(92655412, "init", {
            clickmap: true,
            trackLinks: true,
            accurateTrackBounce: true,
            webvisor: true
        });
    </script>
    <noscript>
        <div><img src="https://mc.yandex.ru/watch/92655412" style="position:absolute; left:-9999px;" alt="" /></div>
    </noscript>
    <!-- /Yandex.Metrika counter -->
</body>

</html>