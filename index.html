<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
    <script src="js/jquery-3.6.0.min.js"></script>
    <link rel="manifest" href="manifest.json" />
    <script async src="https://cdn.jsdelivr.net/npm/pwacompat@2.0.8/pwacompat.min.js"
        integrity="sha384-uONtBTCBzHKF84F6XvyC8S0gL8HTkAPeCyBNvfLfsqHh+Kd6s/kaS4BdmNQ5ktp1"
        crossorigin="anonymous"></script>
    <title>Рузнама - Курахский район</title>
</head>

<body>
    <button id="btnInstall" disabled style="position: absolute; top: 23px; right: 16px; z-index: 1;">
        Install PWA For Prod
    </button>
    <script type="text/javascript" src="runtime.js"></script>
    <script type="text/javascript" src="polyfills.js"></script>
    <script type="text/javascript" src="main.js"></script>
    <header>
        <div class="header_container">
            <h1>Рузнама</h1>
            <p>Курахский район</p>
        </div>
    </header>
    <div class="subheader">
        <div class="subheader_container">
            <div class="day_mounth_year_ru_ar">
                <div class="day_mounth_year">
                    <div class="day" id="ru-day">01</div>
                    <div class="mounth_year">
                        <div class="mounth" id="ru-mounth">Январь</div>
                        <div class="year" id="ru-year">2024 г.</div>
                    </div>
                </div>
                <div class="day_mounth_year">
                    <div class="day" id="ar-day">01</div>
                    <div class="mounth_year">
                        <div class="mounth" id="ar-mounth">Мухаррам</div>
                        <div class="year" id="ar-year">1445 г.</div>
                    </div>
                </div>
            </div>
            <div class="week_clock">
                <div class="week" id="ru-week">Понедельник</div>
                <div class="clock" id="clock">00:00:00</div>
                <img src="img/ramadan.png" alt="" class="ramadan">
            </div>
        </div>
    </div>
    <script src="js/calendar-ru.js"></script>
    <script src="js/calendar-ar.js"></script>
    <script src="js/clock.js"></script>
    <div class="endprayer">
        <div class="endprayer_container">
            <div id="timeToNextPrayerContainer" class="timeToNextPrayerContainer">
                <div class="next_prayer_times" id="timeToNextPrayer">
                    До осталось: --:--
                </div>
                <div class="myline">
                    <div id="redLine" class="redline"></div>
                </div>
            </div>
        </div>
    </div>
    <script src="js/line-timer.js"></script>
    <div class="mainday">
        <div class="mainday_container">
            <div class="mainday_logo_img_name_descr">
                <div class="mainday_img">
                    <img src="img/1.svg" alt="">
                </div>
                <div class="mainday_name_descr">
                    <div class="mainday_name" id="fajr-name">Фаджр</div>
                    <div class="mainday_descr">Время утреннего намаза</div>
                </div>
            </div>
            <div class="mainday_time" id="fajr-time">00:00</div>
        </div>
    </div>
    <div class="mainday">
        <div class="mainday_container">
            <div class="mainday_logo_img_name_descr">
                <div class="mainday_img">
                    <img src="img/2.svg" alt="">
                </div>
                <div class="mainday_name_descr">
                    <div class="mainday_name" id="sunrise-name">Шурук</div>
                    <div class="mainday_descr">Восход солнца</div>
                </div>
            </div>
            <div class="mainday_time" id="sunrise-time">00:00</div>
        </div>
    </div>
    <div class="mainday">
        <div class="mainday_container">
            <div class="mainday_logo_img_name_descr">
                <div class="mainday_img">
                    <img src="img/3.svg" alt="">
                </div>
                <div class="mainday_name_descr">
                    <div class="mainday_name" id="dhuhr-name">Зухр</div>
                    <div class="mainday_descr">Время полуденного намаза</div>
                </div>
            </div>
            <div class="mainday_time" id="dhuhr-time">00:00</div>
        </div>
    </div>
    <div class="mainday">
        <div class="mainday_container">
            <div class="mainday_logo_img_name_descr">
                <div class="mainday_img">
                    <img src="img/4.svg" alt="">
                </div>
                <div class="mainday_name_descr">
                    <div class="mainday_name" id="asr-name">Аср</div>
                    <div class="mainday_descr">Время предвечернего намаза</div>
                </div>
            </div>
            <div class="mainday_time" id="asr-time">00:00</div>
        </div>
    </div>
    <div class="mainday">
        <div class="mainday_container">
            <div class="mainday_logo_img_name_descr">
                <div class="mainday_img">
                    <img src="img/5.svg" alt="">
                </div>
                <div class="mainday_name_descr">
                    <div class="mainday_name" id="maghrib-name">Магриб</div>
                    <div class="mainday_descr">Время вечернего намаза</div>
                </div>
            </div>
            <div class="mainday_time" id="maghrib-time">00:00</div>
        </div>
    </div>
    <div class="mainday">
        <div class="mainday_container">
            <div class="mainday_logo_img_name_descr">
                <div class="mainday_img">
                    <img src="img/6.svg" alt="">
                </div>
                <div class="mainday_name_descr">
                    <div class="mainday_name" id="isha-name">Иша</div>
                    <div class="mainday_descr">Время ночного намаза</div>
                </div>
            </div>
            <div class="mainday_time" id="isha-time">00:00</div>
        </div>
    </div>
    <script src="js/prayer-days.js"></script>
    <div class="main_table">
        <div class="main_table_container">
            <select id="monthSelect" class="main_table_listmounth">
                <option value="1">Январь</option>
                <option value="2">Февраль</option>
                <option value="3">Март</option>
                <option value="4">Апрель</option>
                <option value="5">Май</option>
                <option value="6">Июнь</option>
                <option value="7">Июль</option>
                <option value="8">Август</option>
                <option value="9">Сентябрь</option>
                <option value="10">Октябрь</option>
                <option value="11">Ноябрь</option>
                <option value="12">Декабрь</option>
            </select>
            <table>
                <thead>
                    <tr class="main_table_stici">
                        <th>Чис.</th>
                        <th>Фаджр</th>
                        <th>Шурук</th>
                        <th>Зухр</th>
                        <th>Аср</th>
                        <th>Магриб</th>
                        <th>Иша</th>
                    </tr>
                </thead>
                <tbody id="prayerTimesTableBody"></tbody>
            </table>
            <p id="currentMonth"></p>
        </div>
    </div>
    </div>
    <script src="js/prayer-times-mounths.js"></script>

    <script type="module">

        import { Workbox } from 'https://storage.googleapis.com/workbox-cdn/releases/4.3.0/workbox-window.prod.mjs';

        if ('serviceWorker' in navigator) {

            const wb = new Workbox('sw-workbox.js');

            wb.addEventListener('installed', event => {
                if (event.isUpdate) {
                    if (confirm(`New content is available!. Click OK to refresh`)) {
                        window.location.reload();
                    }
                } else {
                    alert(`The app is offline-ready`)
                }
            });

            wb.register();
        }

    </script>
    <script>
        window.addEventListener('beforeinstallprompt', event => {
            console.log('beforeinstallprompt event was fired');

            // Prevent Chrome <= 67 from automatically showing the prompt
            event.preventDefault();

            // Stash the event so it can be triggered later.
            this.installPromptEvent = event;

            // Update the install UI to notify the user app can be installed
            btnInstall.disabled = false;
        });

        btnInstall = document.querySelector('#btnInstall');

        btnInstall.addEventListener('click', () => {
            // Update the install UI to remove the install button
            btnInstall.disabled = true;

            // Show the modal add to home screen dialog
            installPromptEvent.prompt();

            // Wait for the user to respond to the prompt
            installPromptEvent.userChoice.then(choice => {
                if (choice.outcome === 'accepted') {
                    console.log('User accepted the A2HS prompt');
                } else {
                    console.log('User dismissed the A2HS prompt');
                }
                // Clear the saved prompt since it can't be used again
                installPromptEvent = null;
            });
        });
    </script>
</body>

</html>