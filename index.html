<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="js/jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" href="css/style.css">
    <title>Рузнама Курахский район</title>
    <link rel="manifest" href="manifest.json" />
	<script
      async
      src="https://cdn.jsdelivr.net/npm/pwacompat@2.0.8/pwacompat.min.js"
      integrity="sha384-uONtBTCBzHKF84F6XvyC8S0gL8HTkAPeCyBNvfLfsqHh+Kd6s/kaS4BdmNQ5ktp1"
      crossorigin="anonymous"
    ></script>
</head>

<body>
    <!-- Header -->
    <div class="header">
        <div class="header_name_loc">
            <div class="header_text">
                <h1>Рузнама</h1>
                <p>Курахский район</p>
            </div>
        </div>
    </div>
    <!-- SubHeader -->
    <div class="subheader">
        <div class="subheader_data_clock">
            <div class="subheader_mount_day">
                <p id="my-date-ru">01 Января 2024 г</p>
                <p class="hijri-date">01 Мухаррам 1445 г</p>
                <p id="days">Понедельник</p>
            </div>
            <div class="subheader_clock">
                <p id="clock">00:00<span></span>:00</p>
            </div>
        </div>
    </div>
    <!-- day -->
    <table>
        <thead>
            <tr>
                <th>Намаз</th>
                <th>Время</th>
                <th>Ост.время</th>
            </tr>
        </thead>
        <tbody id="prayerTimesTableBodyMain" class="prayerTimesTableBodyMain">
            <!-- Здесь будут динамически добавляться строки с временами намазов -->
        </tbody>
    </table>
    <!-- mounyh -->
    <select id="monthSelect" class="listmounth">
        <option value="1">Январь</option>
        <option value="2">Февраль</option>
        <option value="3">Март</option>
        <option value="4">Апрель</option>
        <option value="5">Май</option>
        <option value="6">Июнь</option>
        <option value="7">Июль</option>
        <option value="8">Август</option>
        <option value="9">Сентябрь</option>
        <option value="10">Октябрь</option>
        <option value="11">Ноябрь</option>
        <option value="12">Декабрь</option>
    </select>

    <table>
        <thead>
            <tr class="stici">
                <th>Чис.</th>
                <th>Фаджр</th>
                <th>Шурук</th>
                <th>Зухр</th>
                <th>Аср</th>
                <th>Магриб</th>
                <th>Иша</th>
            </tr>
        </thead>
        <tbody id="prayerTimesTableBody"></tbody>
    </table>
    <p id="currentMonth"></p>
    <script type="text/javascript" src="runtime.js"></script><script type="text/javascript" src="polyfills.js"></script><script type="text/javascript" src="main.js"></script>
    <script src="js/subheader.js"></script>
    <script src="js/day.js"></script>
    <script src="js/mounth.js"></script>
    <script src="js/clock.js"></script>
</body>
<script type="module">

import {Workbox} from 'https://storage.googleapis.com/workbox-cdn/releases/4.3.0/workbox-window.prod.mjs';

if ('serviceWorker' in navigator) {

  const wb = new Workbox('sw-workbox.js');

  wb.addEventListener('installed', event => {
    if (event.isUpdate) {
      if (confirm(`New content is available!. Click OK to refresh`)) {
        window.location.reload();
      }
    } else {
        alert(`The app is offline-ready`)
    }
  });

  wb.register();
}

  </script>

  <script>
    window.addEventListener('beforeinstallprompt', event => {
      console.log('beforeinstallprompt event was fired');

      // Prevent Chrome <= 67 from automatically showing the prompt
      event.preventDefault();

      // Stash the event so it can be triggered later.
      this.installPromptEvent = event;

      // Update the install UI to notify the user app can be installed
      btnInstall.disabled = false;
    });

    btnInstall = document.querySelector('#btnInstall');

    btnInstall.addEventListener('click', () => {
      // Update the install UI to remove the install button
      btnInstall.disabled = true;

      // Show the modal add to home screen dialog
      installPromptEvent.prompt();

      // Wait for the user to respond to the prompt
      installPromptEvent.userChoice.then(choice => {
        if (choice.outcome === 'accepted') {
          console.log('User accepted the A2HS prompt');
        } else {
          console.log('User dismissed the A2HS prompt');
        }
        // Clear the saved prompt since it can't be used again
        installPromptEvent = null;
      });
    });
  </script>
</html>